[gd_scene load_steps=65 format=3 uid="uid://bvt7cpokp8n8x"]

[ext_resource type="Script" path="res://character_body_2d.gd" id="1_42e66"]
[ext_resource type="Texture2D" uid="uid://dnye7xix4plop" path="res://Floor.png" id="1_bh2ed"]
[ext_resource type="Script" path="res://node_2d.gd" id="1_ta5nu"]
[ext_resource type="Texture2D" uid="uid://dgtckvfw2o7mi" path="res://Idle-Sprite.png" id="2_hs4i7"]
[ext_resource type="Texture2D" uid="uid://blt052cugnv2h" path="res://Moving.png" id="4_3j8yj"]
[ext_resource type="Texture2D" uid="uid://civg34q3w3xcu" path="res://parry3.png" id="5_540hr"]
[ext_resource type="Texture2D" uid="uid://dlhf28evjd2fb" path="res://Platform.png" id="5_v0qa2"]
[ext_resource type="Texture2D" uid="uid://c18utp0rhos1v" path="res://parry1.png" id="6_6ip5v"]
[ext_resource type="Texture2D" uid="uid://cscrvqtaa0kpd" path="res://hp0.png" id="6_ac1a7"]
[ext_resource type="Texture2D" uid="uid://cb04xyd7iy1d" path="res://Bridge.png" id="6_fbxw5"]
[ext_resource type="Texture2D" uid="uid://b3h48oftisjnf" path="res://hp5.png" id="6_wnmoj"]
[ext_resource type="Texture2D" uid="uid://ctkpwowvyrdrb" path="res://hp1.png" id="7_c1gty"]
[ext_resource type="Texture2D" uid="uid://blpap3hefqmal" path="res://Slash1.png" id="7_ei405"]
[ext_resource type="Texture2D" uid="uid://dx3poqd0isotf" path="res://Brick-Wall.png" id="7_na3yk"]
[ext_resource type="Texture2D" uid="uid://dxiycngmptuya" path="res://parry2.png" id="7_q5dlx"]
[ext_resource type="Texture2D" uid="uid://d4a6x6t363cds" path="res://Slash2.png" id="8_e8dv2"]
[ext_resource type="Texture2D" uid="uid://dj6ixbj20vme2" path="res://hp2.png" id="8_hp0eo"]
[ext_resource type="Texture2D" uid="uid://b3rvegotcpqq5" path="res://Slash3.png" id="9_2nhjh"]
[ext_resource type="Texture2D" uid="uid://bqgett8pj2p2m" path="res://hp3.png" id="9_l41mc"]
[ext_resource type="Texture2D" uid="uid://futqjnrvecnf" path="res://Slash4.png" id="10_bjha6"]
[ext_resource type="Texture2D" uid="uid://dhbadn5ea3qkt" path="res://hp4.png" id="10_vepni"]
[ext_resource type="Texture2D" uid="uid://dog1n8cqx5qgn" path="res://Slash5.png" id="11_gt76g"]
[ext_resource type="Script" path="res://sprite2d.gd" id="11_kq1c5"]
[ext_resource type="Script" path="res://character_body_2d_2.gd" id="14_d2bti"]
[ext_resource type="Texture2D" uid="uid://bffe3ogeo2245" path="res://Enemies/Raven.png" id="15_ta5nu"]
[ext_resource type="Texture2D" uid="uid://grvnvcqk786u" path="res://Background/Grass-Floor.png" id="17_flf07"]
[ext_resource type="Script" path="res://rslash.gd" id="18_2nhjh"]
[ext_resource type="Script" path="res://lslash.gd" id="19_bjha6"]
[ext_resource type="Texture2D" uid="uid://y10m8ynmps5j" path="res://Raven-spin1.png" id="21_2u7jv"]
[ext_resource type="Texture2D" uid="uid://c52pw28qq887c" path="res://Raven-spin2.png" id="22_24dk6"]
[ext_resource type="Texture2D" uid="uid://dkfo1dlrsyour" path="res://Raven-spin3.png" id="23_mryly"]
[ext_resource type="Script" path="res://area_2d.gd" id="24_bjha6"]
[ext_resource type="Script" path="res://animated_sprite_2d2.gd" id="24_kq1c5"]
[ext_resource type="Texture2D" uid="uid://dxxds50ngf1hm" path="res://raven-down.png" id="25_6ip5v"]
[ext_resource type="Script" path="res://hp.gd" id="25_gt76g"]
[ext_resource type="Texture2D" uid="uid://b2eaofidshfqj" path="res://Enemies/Raven-jump.png" id="26_3rgeb"]
[ext_resource type="Script" path="res://rspin.gd" id="27_mryly"]
[ext_resource type="Script" path="res://lspin.gd" id="28_kq1c5"]
[ext_resource type="Texture2D" uid="uid://dcbqhh5lhqyq6" path="res://Enemies/Tonn Left.png" id="35_mlmnt"]
[ext_resource type="Texture2D" uid="uid://8lhdlyjlf18m" path="res://Enemies/Tonn Right.png" id="36_mv3e0"]
[ext_resource type="Script" path="res://tonn.gd" id="37_8buk7"]
[ext_resource type="Texture2D" uid="uid://bccg7vpvpsctj" path="res://spikes.png" id="39_c21p0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ui8w"]
size = Vector2(302, 650)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3nlv3"]
size = Vector2(266, 650.5)

[sub_resource type="SpriteFrames" id="SpriteFrames_ma753"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_hs4i7")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_540hr")
}],
"loop": true,
"name": &"parryno",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_6ip5v")
}],
"loop": true,
"name": &"parryready",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_q5dlx")
}],
"loop": false,
"name": &"parryyes",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_3j8yj")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_ei405")
}, {
"duration": 1.0,
"texture": ExtResource("8_e8dv2")
}, {
"duration": 1.0,
"texture": ExtResource("9_2nhjh")
}, {
"duration": 1.0,
"texture": ExtResource("10_bjha6")
}, {
"duration": 1.0,
"texture": ExtResource("11_gt76g")
}],
"loop": false,
"name": &"sslash",
"speed": 14.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_3fcx3"]
radius = 4.5
height = 21.5

[sub_resource type="SpriteFrames" id="SpriteFrames_4taom"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_ac1a7")
}],
"loop": true,
"name": &"0",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_c1gty")
}],
"loop": true,
"name": &"1",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_hp0eo")
}],
"loop": true,
"name": &"2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_l41mc")
}],
"loop": true,
"name": &"3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_vepni")
}],
"loop": true,
"name": &"4",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_wnmoj")
}],
"loop": true,
"name": &"5",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_gt76g"]
radius = 23.0
height = 70.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1fr6y"]
radius = 26.0
height = 70.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_2hxjc"]
radius = 23.0
height = 82.0

[sub_resource type="SpriteFrames" id="SpriteFrames_flf07"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_ta5nu")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("25_6ip5v")
}],
"loop": true,
"name": &"down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("26_3rgeb")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_2u7jv")
}, {
"duration": 1.0,
"texture": ExtResource("21_2u7jv")
}, {
"duration": 1.0,
"texture": ExtResource("21_2u7jv")
}, {
"duration": 1.0,
"texture": ExtResource("22_24dk6")
}, {
"duration": 1.0,
"texture": ExtResource("23_mryly")
}],
"loop": false,
"name": &"spin",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_k73cj"]
radius = 22.0
height = 116.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gt76g"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_1fr6y"]
bg_color = Color(0, 0.678431, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_540hr"]
bg_color = Color(1, 0, 0.227451, 1)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ornx7"]
radius = 22.0
height = 54.0

[sub_resource type="SpriteFrames" id="SpriteFrames_5o3db"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("35_mlmnt")
}],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("36_mv3e0")
}],
"loop": true,
"name": &"right",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_w1vfq"]
radius = 11.0
height = 46.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_flf07"]
size = Vector2(256.277, 74.3573)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4wqqe"]
size = Vector2(256, 18.3682)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_smfaj"]
size = Vector2(30, 17.3333)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1qv7n"]
size = Vector2(64.2, 33.1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_36wix"]
size = Vector2(5456, 49.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sjy1l"]
size = Vector2(52, 15)

[node name="Node2D" type="Node2D"]
position = Vector2(540, 298)
script = ExtResource("1_ta5nu")

[node name="Wall" type="Sprite2D" parent="."]
position = Vector2(-687, 66.5)
scale = Vector2(1.16797, 3.41146)
texture = ExtResource("7_na3yk")

[node name="StaticBody2D" type="StaticBody2D" parent="Wall"]
position = Vector2(589.485, -7.97539)
scale = Vector2(0.856187, 0.295385)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall/StaticBody2D"]
position = Vector2(-691.5, 24.5191)
shape = SubResource("RectangleShape2D_7ui8w")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Wall/StaticBody2D"]
position = Vector2(4470.5, -14.1831)
shape = SubResource("RectangleShape2D_3nlv3")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(-474, 156)
script = ExtResource("1_42e66")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Player"]
position = Vector2(-9, -9)
sprite_frames = SubResource("SpriteFrames_ma753")
animation = &"sslash"
centered = false
offset = Vector2(-42, -80)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(-3, -12)
scale = Vector2(4, 4)
shape = SubResource("CapsuleShape2D_3fcx3")

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(263, -93)

[node name="Sprite2D" type="Sprite2D" parent="Player/Camera2D"]
script = ExtResource("11_kq1c5")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Player/Camera2D/Sprite2D"]
position = Vector2(-461, -290)
scale = Vector2(3.64286, 3.64286)
sprite_frames = SubResource("SpriteFrames_4taom")
animation = &"5"
autoplay = "5"

[node name="Area2D" type="Area2D" parent="Player"]
collision_layer = 2
collision_mask = 2

[node name="Rslash" type="CollisionShape2D" parent="Player/Area2D"]
position = Vector2(50, -8)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_gt76g")
disabled = true
script = ExtResource("18_2nhjh")

[node name="Lslash" type="CollisionShape2D" parent="Player/Area2D"]
position = Vector2(-28, -6)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_1fr6y")
disabled = true
script = ExtResource("19_bjha6")

[node name="Hurtbox" type="Area2D" parent="Player"]
position = Vector2(0, 1)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Hurtbox"]
position = Vector2(-1, -13)
shape = SubResource("CapsuleShape2D_2hxjc")

[node name="Enemies" type="Node" parent="."]

[node name="Raven" type="CharacterBody2D" parent="Enemies"]
position = Vector2(4249, 397)
script = ExtResource("14_d2bti")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Enemies/Raven"]
position = Vector2(0, 6)
sprite_frames = SubResource("SpriteFrames_flf07")
animation = &"jump"
script = ExtResource("24_kq1c5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemies/Raven"]
position = Vector2(0, 19)
shape = SubResource("CapsuleShape2D_k73cj")

[node name="Area2D" type="Area2D" parent="Enemies/Raven"]
collision_layer = 2
collision_mask = 2
script = ExtResource("24_bjha6")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Enemies/Raven/Area2D"]
position = Vector2(1, 20)
shape = SubResource("CapsuleShape2D_k73cj")

[node name="Hp" type="ProgressBar" parent="Enemies/Raven"]
offset_left = -139.0
offset_top = -90.0
offset_right = 137.0
offset_bottom = -73.0
theme_override_styles/background = SubResource("StyleBoxFlat_gt76g")
theme_override_styles/fill = SubResource("StyleBoxFlat_1fr6y")
max_value = 20.0
show_percentage = false
script = ExtResource("25_gt76g")
metadata/_edit_use_anchors_ = true

[node name="Poise" type="ProgressBar" parent="Enemies/Raven"]
offset_left = -139.0
offset_top = -72.0
offset_right = 137.0
offset_bottom = -68.0
theme_override_styles/fill = SubResource("StyleBoxFlat_540hr")
show_percentage = false

[node name="Area2D2" type="Area2D" parent="Enemies/Raven"]
collision_layer = 4
collision_mask = 4

[node name="rspin" type="CollisionShape2D" parent="Enemies/Raven/Area2D2"]
position = Vector2(27, 41)
skew = -0.328122
shape = SubResource("CapsuleShape2D_ornx7")
disabled = true
script = ExtResource("27_mryly")

[node name="lspin" type="CollisionShape2D" parent="Enemies/Raven/Area2D2"]
position = Vector2(-32, 44)
skew = 0.328122
shape = SubResource("CapsuleShape2D_ornx7")
disabled = true
script = ExtResource("28_kq1c5")

[node name="Tonn" type="AnimatedSprite2D" parent="Enemies"]
position = Vector2(1223, 471)
sprite_frames = SubResource("SpriteFrames_5o3db")
animation = &"left"
script = ExtResource("37_8buk7")

[node name="Area2D" type="Area2D" parent="Enemies/Tonn"]
collision_layer = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemies/Tonn/Area2D"]
position = Vector2(0, 7)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_w1vfq")

[node name="Terrain" type="Node" parent="."]

[node name="Grass Floors" type="Node" parent="Terrain"]

[node name="Grass-floor" type="Sprite2D" parent="Terrain/Grass Floors"]
position = Vector2(2637, 599)
scale = Vector2(3.52353, 3.52353)
texture = ExtResource("17_flf07")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Grass Floors/Grass-floor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Grass Floors/Grass-floor/StaticBody2D"]
position = Vector2(0.709351, 4.82472)
shape = SubResource("RectangleShape2D_flf07")

[node name="Grass-floor2" type="Sprite2D" parent="Terrain/Grass Floors"]
position = Vector2(3532.01, 599.75)
scale = Vector2(3.52353, 3.52353)
texture = ExtResource("17_flf07")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Grass Floors/Grass-floor2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Grass Floors/Grass-floor2/StaticBody2D"]
position = Vector2(0.709351, 4.82472)
shape = SubResource("RectangleShape2D_flf07")

[node name="Grass-floor3" type="Sprite2D" parent="Terrain/Grass Floors"]
position = Vector2(4428, 598.75)
scale = Vector2(3.52353, 3.52353)
texture = ExtResource("17_flf07")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Grass Floors/Grass-floor3"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Grass Floors/Grass-floor3/StaticBody2D"]
position = Vector2(0.709351, 4.82472)
shape = SubResource("RectangleShape2D_flf07")

[node name="Bridge" type="Sprite2D" parent="Terrain"]
position = Vector2(1732, 518.75)
scale = Vector2(3.59375, 3.79412)
texture = ExtResource("6_fbxw5")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Bridge"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Bridge/StaticBody2D"]
position = Vector2(0, 0.815887)
shape = SubResource("RectangleShape2D_4wqqe")

[node name="Platform3" type="Sprite2D" parent="Terrain"]
position = Vector2(808, 255)
scale = Vector2(3, 1.5)
texture = ExtResource("5_v0qa2")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Platform3"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Platform3/StaticBody2D"]
shape = SubResource("RectangleShape2D_smfaj")

[node name="Platform2" type="Sprite2D" parent="Terrain"]
position = Vector2(452, 397)
scale = Vector2(3, 1.5)
texture = ExtResource("5_v0qa2")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Platform2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Platform2/StaticBody2D"]
shape = SubResource("RectangleShape2D_smfaj")

[node name="Platform" type="Sprite2D" parent="Terrain"]
position = Vector2(612, 341)
scale = Vector2(3, 1.5)
texture = ExtResource("5_v0qa2")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Platform"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Platform/StaticBody2D"]
shape = SubResource("RectangleShape2D_smfaj")

[node name="Floor" type="Sprite2D" parent="Terrain"]
position = Vector2(161, 585.5)
scale = Vector2(5, 6.35484)
texture = ExtResource("1_bh2ed")

[node name="Floor4" type="Sprite2D" parent="Terrain/Floor"]
position = Vector2(190.2, 0.400002)
texture = ExtResource("1_bh2ed")

[node name="StaticBody2D" type="StaticBody2D" parent="Terrain/Floor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Floor/StaticBody2D"]
position = Vector2(-0.5, 0.849998)
shape = SubResource("RectangleShape2D_1qv7n")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Terrain/Floor/StaticBody2D"]
position = Vector2(190, 1.49492)
shape = SubResource("RectangleShape2D_1qv7n")

[node name="Death barrier" type="Node" parent="Terrain"]

[node name="Area2D" type="Area2D" parent="Terrain/Death barrier"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Death barrier/Area2D"]
position = Vector2(2431, 723.75)
shape = SubResource("RectangleShape2D_36wix")

[node name="Spikes" type="Sprite2D" parent="Terrain"]
position = Vector2(214, 475)
texture = ExtResource("39_c21p0")

[node name="Spikecollision" type="Area2D" parent="Terrain/Spikes"]
position = Vector2(0, 1)
collision_layer = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Terrain/Spikes/Spikecollision"]
position = Vector2(0, 1.5)
shape = SubResource("RectangleShape2D_sjy1l")

[connection signal="animation_finished" from="Player/AnimatedSprite2D" to="Player/Area2D/Rslash" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="animation_finished" from="Player/AnimatedSprite2D" to="Player/Area2D/Lslash" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="area_entered" from="Player/Area2D" to="Enemies/Tonn" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="Player/Hurtbox" to="Player" method="_on_hurtbox_area_entered"]
[connection signal="area_entered" from="Player/Hurtbox" to="Enemies/Raven/Area2D2/rspin" method="_on_hurtbox_area_entered"]
[connection signal="area_entered" from="Player/Hurtbox" to="Enemies/Raven/Area2D2/lspin" method="_on_hurtbox_area_entered"]
[connection signal="animation_finished" from="Enemies/Raven/AnimatedSprite2D" to="Enemies/Raven/Area2D2/rspin" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="animation_finished" from="Enemies/Raven/AnimatedSprite2D" to="Enemies/Raven/Area2D2/lspin" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="area_entered" from="Enemies/Raven/Area2D" to="Player/Area2D/Rslash" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="Enemies/Raven/Area2D" to="Player/Area2D/Lslash" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="Terrain/Death barrier/Area2D" to="Player" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="Terrain/Spikes/Spikecollision" to="Player" method="_on_spikecollision_area_entered"]
